{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alius\\\\Downloads\\\\stripe-sample-code\\\\src\\\\checkout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { PaymentElement, LinkAuthenticationElement } from \"@stripe/react-stripe-js\";\nimport { useStripe, useElements } from \"@stripe/react-stripe-js\";\nexport default function CheckoutForm() {\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [snackbar, setSnackbar] = useState(true);\n  const [paymentRequestButton, setPaymentRequestButton] = useState(null);\n  const stripe = useStripe();\n  const elements = useElements();\n  useEffect(() => {\n    if (!stripe || !elements) {\n      return;\n    }\n    const paymentRequest = stripe.paymentRequest({\n      country: \"US\",\n      // Your country\n      currency: \"usd\",\n      // Your currency\n      paymentMethodTypes: [\"card\"],\n      // Google Pay and Apple Pay both use \"card\"\n      requestPayerName: true,\n      requestPayerEmail: true,\n      total: {\n        label: \"Total\",\n        // A label for the payment request (e.g., your product name)\n        amount: 5000 // The total amount to charge in cents (e.g., $50.00 is 5000 cents)\n      }\n    });\n\n    // Check if the Payment Request button is available for Google Pay or Apple Pay\n    paymentRequest.canMakePayment().then(result => {\n      if (result.applePay || result.googlePay) {\n        const elements = stripe.elements();\n        const prButton = elements.create(\"paymentRequestButton\", {\n          paymentRequest: paymentRequest\n        });\n        prButton.mount(\"#payment-request-button\");\n        setPaymentRequestButton(prButton);\n      }\n    });\n  }, [stripe, elements]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!stripe || !elements) {\n      // Stripe.js has not yet loaded.\n      return;\n    }\n    setIsLoading(true);\n    const Domain = \"http://localhost:3000/\";\n    const {\n      error\n    } = await stripe.confirmPayment({\n      elements,\n      confirmParams: {\n        return_url: `${Domain}success`\n      }\n    });\n    if (error.type === \"card_error\" || error.type === \"validation_error\") {\n      setMessage(error.message);\n      setTimeout(() => {\n        setSnackbar(false);\n      }, 3000);\n    } else {\n      setMessage(\"An unexpected error occurred.\");\n      setTimeout(() => {\n        setSnackbar(false);\n      }, 3000);\n    }\n    setIsLoading(false);\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    id: \"payment-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LinkAuthenticationElement, {\n    id: \"link-authentication-element\",\n    onChange: event => setEmail(event.value.email),\n    options: {\n      defaultValues: {\n        email: \"aliusama.vectorcoder@gmail.com\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PaymentElement, {\n    id: \"payment-element\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"payment-request-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"button\", {\n    disabled: isLoading || !stripe || !elements,\n    id: \"submit\",\n    style: {\n      display: paymentRequestButton ? \"none\" : \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"button-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner\",\n    id: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 24\n    }\n  }) : \"Pay now\")), message && snackbar && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"payment-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 31\n    }\n  }, message));\n}","map":{"version":3,"names":["React","useState","useEffect","PaymentElement","LinkAuthenticationElement","useStripe","useElements","CheckoutForm","email","setEmail","message","setMessage","isLoading","setIsLoading","snackbar","setSnackbar","paymentRequestButton","setPaymentRequestButton","stripe","elements","paymentRequest","country","currency","paymentMethodTypes","requestPayerName","requestPayerEmail","total","label","amount","canMakePayment","then","result","applePay","googlePay","prButton","create","mount","handleSubmit","e","preventDefault","Domain","error","confirmPayment","confirmParams","return_url","type","setTimeout","createElement","id","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","event","value","options","defaultValues","disabled","style","display","className"],"sources":["C:/Users/alius/Downloads/stripe-sample-code/src/checkout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  PaymentElement,\r\n  LinkAuthenticationElement,\r\n} from \"@stripe/react-stripe-js\";\r\nimport { useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\nexport default function CheckoutForm() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [snackbar, setSnackbar] = useState(true);\r\n  const [paymentRequestButton, setPaymentRequestButton] = useState(null);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  useEffect(() => {\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    const paymentRequest = stripe.paymentRequest({\r\n      country: \"US\", // Your country\r\n      currency: \"usd\", // Your currency\r\n      paymentMethodTypes: [\"card\"], // Google Pay and Apple Pay both use \"card\"\r\n      requestPayerName: true,\r\n      requestPayerEmail: true,\r\n      total: {\r\n        label: \"Total\", // A label for the payment request (e.g., your product name)\r\n        amount: 5000, // The total amount to charge in cents (e.g., $50.00 is 5000 cents)\r\n      },\r\n    });\r\n\r\n    // Check if the Payment Request button is available for Google Pay or Apple Pay\r\n    paymentRequest.canMakePayment().then((result) => {\r\n      if (result.applePay || result.googlePay) {\r\n        const elements = stripe.elements();\r\n        const prButton = elements.create(\"paymentRequestButton\", {\r\n          paymentRequest: paymentRequest,\r\n        });\r\n\r\n        prButton.mount(\"#payment-request-button\");\r\n        setPaymentRequestButton(prButton);\r\n      }\r\n    });\r\n  }, [stripe, elements]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not yet loaded.\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    const Domain = \"http://localhost:3000/\";\r\n    const { error } = await stripe.confirmPayment({\r\n      elements,\r\n      confirmParams: {\r\n        return_url: `${Domain}success`,\r\n      },\r\n    });\r\n\r\n    if (error.type === \"card_error\" || error.type === \"validation_error\") {\r\n      setMessage(error.message);\r\n      setTimeout(() => {\r\n        setSnackbar(false);\r\n      }, 3000);\r\n    } else {\r\n      setMessage(\"An unexpected error occurred.\");\r\n      setTimeout(() => {\r\n        setSnackbar(false);\r\n      }, 3000);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <form id='payment-form' onSubmit={handleSubmit}>\r\n      <LinkAuthenticationElement\r\n        id='link-authentication-element'\r\n        onChange={(event) => setEmail(event.value.email)}\r\n        options={{\r\n          defaultValues: { email: \"aliusama.vectorcoder@gmail.com\" },\r\n        }}\r\n      />\r\n      <PaymentElement id='payment-element' />\r\n      <div id='payment-request-button'></div> {/* Payment Request Button */}\r\n      <button\r\n        disabled={isLoading || !stripe || !elements}\r\n        id='submit'\r\n        style={{ display: paymentRequestButton ? \"none\" : \"block\" }}\r\n      >\r\n        <span id='button-text'>\r\n          {isLoading ? <div className='spinner' id='spinner'></div> : \"Pay now\"}\r\n        </span>\r\n      </button>\r\n      {/* Show any error or success messages */}\r\n      {message && snackbar && <div id='payment-message'>{message}</div>}\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}